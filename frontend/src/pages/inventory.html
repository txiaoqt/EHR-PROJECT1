<section class="page">
  <div class="card">

    <!-- HEADER -->
    <div style="display:flex;align-items:center;gap:12px">
      <h2 style="margin:0">Inventory</h2>

      <div style="margin-left:auto">
        <button class="btn" id="addStockBtn">Add Stock</button>
      </div>
    </div>

    <!-- SEARCH BAR UNDER TITLE (NEW POSITION) -->
    <div style="margin-top:12px;">
      <input 
        id="inventory-search" 
        class="input" 
        type="search" 
        placeholder="Search inventory (item name)" 
        style="width:100%; max-width:400px;"
      >
    </div>

    <!-- TABLE -->
    <div style="margin-top:12px; overflow:auto">
      <table class="table" aria-label="Inventory table">
        <thead>
          <tr>
            <th>Item</th>
            <th>Stock</th>
            <th>Unit</th>
            <th>Reorder Level</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>Paracetamol 500mg</td>
            <td>20</td>
            <td>pcs</td>
            <td class="label-muted">10</td>
            <td><button class="btn">Adjust</button></td>
          </tr>
          <tr>
            <td>Gauze</td>
            <td>120</td>
            <td>pcs</td>
            <td class="label-muted">50</td>
            <td><button class="btn">Adjust</button></td>
          </tr>
        </tbody>
      </table>
    </div>

  </div>
</section>

<script>
  document.getElementById('addStockBtn')
    .addEventListener('click', ()=> alert('Open add stock dialog (implement later).'));

  // Inventory search (client-side filter)
  const invSearch = document.getElementById('inventory-search');
  invSearch.addEventListener('input', () => {
    const q = invSearch.value.trim().toLowerCase();
    document.querySelectorAll('table[aria-label="Inventory table"] tbody tr')
      .forEach(tr=>{
        tr.style.display = (q === '' || tr.innerText.toLowerCase().includes(q))
          ? '' 
          : 'none';
      });
  });
</script>
